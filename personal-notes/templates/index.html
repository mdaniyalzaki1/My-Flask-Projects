{% extends "base.html" %}

{% block content %}
<div class="container">

    {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flash-messages">
      {% for category, message in messages %}
        <li class="flash {{ category }}">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}


    <h1>Personal Notes</h1>

    <form action="/add" method="post" class="note-form">
        <textarea name="note" placeholder="Write your note here..." required></textarea>
        <button type="submit">Add Note</button>
    </form>

    <ul class="notes-list">
    {% for note in notes %}
        <li>
            {{ note }}
            <form action="{{ url_for('delete_note', note_index=loop.index0) }}" method="post" style="display:inline;">
                <button type="submit" class="delete-button">Delete</button>
            </form>
        </li>
    {% else %}
        <li class="empty">No notes yet.</li>
    {% endfor %}
    </ul>

</div>
{% endblock %}
